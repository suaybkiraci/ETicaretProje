{% extends "base.html" %}

{% block title %}Profilim{% endblock %}

{% block content %}
    <div class="container">
        {% if messages %}
            {% for msg in messages %}
                <div class="alert alert-{{ msg.tags }} alert-dismissible fade show" role="alert">
                    {{ msg }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                </div>
            {% endfor %}
        {% endif %}

        <div class="card profile-card">
            <div class="profile-header text-center">
                <h2><i class="fas fa-user-circle me-2"></i>Profilim</h2>
            </div>
            <div class="row g-0">
                <div class="col-md-6 profile-section border-end">
                    <h5>Bilgilerimi Güncelle</h5>
                    <form method="post">
                        {% csrf_token %}
                        <div class="mb-3">
                            <label class="form-label" for="id_first_name">Ad</label>
                            {{ p_form.first_name }}
                        </div>
                        <div class="mb-3">
                            <label class="form-label" for="id_last_name">Soyad</label>
                            {{ p_form.last_name }}
                        </div>
                        <div class="mb-3">
                            <label class="form-label" for="id_email">E-posta</label>
                            {{ p_form.email }}
                        </div>
                        <button type="submit" name="update_profile" class="btn btn-primary">
                            Kaydet
                        </button>
                    </form>
                </div>
                <div class="col-md-6 profile-section">
                    <h5>Şifremi Değiştir</h5>
                    <form method="post">
                        {% csrf_token %}
                        <div class="mb-3">
                            <label class="form-label" for="id_old_password">Eski Şifre</label>
                            {{ pwd_form.old_password }}
                        </div>
                        <div class="mb-3">
                            <label class="form-label" for="id_new_password1">Yeni Şifre</label>
                            {{ pwd_form.new_password1 }}
                        </div>
                        <div class="mb-3">
                            <label class="form-label" for="id_new_password2">Yeni Şifre (Tekrar)</label>
                            {{ pwd_form.new_password2 }}
                        </div>
                        <button type="submit" name="change_password" class="btn btn-warning">
                            Değiştir
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

